"use strict";var myApp=angular.module("myApp",["ui.router","myControllers","myServices","builder","builder.components","validator.rules","ui.bootstrap"]),myServices=angular.module("myServices",["ngResource"]),myControllers=angular.module("myControllers",[]);angular.module("myApp").config(function(e,o){o.otherwise("/"),e.state("root",{url:"/",templateUrl:"templates/index.html",controller:"IndexController",resolve:{retros:function(e,o){var r=e.defer();return o.query().$promise.then(function(e){r.resolve(e)}),r.promise}}}).state("retros",{templateUrl:"templates/retros/base.html"}).state("retros.index",{url:"/retros",templateUrl:"templates/retros/index.html",controller:"IndexController",resolve:{retros:function(e,o){var r=e.defer();return o.query().$promise.then(function(e){r.resolve(e)}),r.promise}}}).state("retros.new",{url:"/retros/new",templateUrl:"templates/retros/new.html",controller:"NewController"}).state("retros.show",{url:"/retros/:id",templateUrl:"templates/retros/show.html",controller:"ShowController",resolve:{retro:function(e,o,r){var t=e.defer();return o.get({id:r.id}).$promise.then(function(e){t.resolve(e)}),t.promise},responses:function(e,o,r){var t=e.defer();return o.all({retro_id:r.id}).$promise.then(function(e){t.resolve(e.responses)}),t.promise}}})}),angular.module("myApp").controller("ModalDemoCtrl",function(e,o,r){e.items=["item1","item2","item3"],e.animationsEnabled=!0,e.open=function(t){var n=o.open({animation:e.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:t,resolve:{items:function(){return e.items}}});n.result.then(function(o){e.selected=o},function(){r.info("Modal dismissed at: "+new Date)})},e.toggleAnimation=function(){e.animationsEnabled=!e.animationsEnabled}}),angular.module("myApp").controller("ModalInstanceCtrl",function(e,o,r){e.items=r,e.selected={item:e.items[0]},e.ok=function(){o.close(e.selected.item)},e.cancel=function(){o.dismiss("cancel")}}),myControllers.controller("FormCanvasController",["$scope","Retro","$builder","$validator","$location",function(e,o,r,t,n){e.formCanvas=r.forms["default"],e.input=[],e.defaultValue={},this.submit=function(r,t,l){if(t){var s=new o;s.title=r.title,s.form=angular.toJson(e.formCanvas),s.$save().then(function(e){console.log("data"),console.log(n.path("/"))})}}}]),myControllers.controller("FormConsumeController",["$scope","Response",function(e,o){this.submit=function(e,r,t){var n=new o;n.retro_id=e._id,n.input=angular.toJson(r),n.$save().then(function(e){console.log(e)}),console.log(n)}}]),myControllers.controller("IndexController",["$scope","retros","Retro",function(e,o,r){e.retros=o,e["delete"]=function(o){var t=e.retros.indexOf(o),n=new r;n.$delete({id:o._id}).then(function(o){e.retros.splice(t,1)})}}]),myControllers.controller("NewController",["$scope",function(e){}]),myControllers.controller("ShowController",["$scope","retro","responses","$builder","$validator",function(e,o,r,t,n){e.retro=o,e.responses=r;var l=angular.fromJson(o.form);t.forms["default"]=l}]),myServices.factory("Response",["$resource",function(e){return e("/responses/:id",{},{all:{method:"get"}})}]),myServices.factory("Retro",["$resource",function(e){return e("/retros/:id")}]);