"use strict";var myApp=angular.module("myApp",["ngRoute","myControllers","myServices","builder","builder.components","validator.rules"]),myServices=angular.module("myServices",["ngResource"]),myControllers=angular.module("myControllers",[]);angular.module("myApp").config(function(e,r){e.when("/",{templateUrl:"templates/retros/index.html",controller:"IndexController",resolve:{retros:function(e,r){var o=e.defer();return r.query().$promise.then(function(e){o.resolve(e)}),o.promise}}}).when("/retros/new",{templateUrl:"templates/retros/new.html",controller:"NewController"}).when("/retros/:id",{templateUrl:"templates/retros/show.html",controller:"ShowController",resolve:{retro:function(e,r,o){var t=e.defer();return r.get({id:o.current.params.id}).$promise.then(function(e){t.resolve(e)}),t.promise},responses:function(e,r,o){var t=e.defer();return r.all({retro_id:o.current.params.id}).$promise.then(function(e){t.resolve(e.responses)}),t.promise}}}).otherwise({redirectTo:"/"})}),myControllers.controller("FormCanvasController",["$scope","Retro","$builder","$validator",function(e,r,o,t){e.formCanvas=o.forms["default"],e.input=[],e.defaultValue={},this.submit=function(o,t,n){if(t){var l=new r;l.title=o.title,l.form=angular.toJson(e.formCanvas),console.log("fd",o),console.log("r",l),l.$save().then(function(e){})}}}]),myControllers.controller("FormConsumeController",["$scope","Response",function(e,r){this.submit=function(e,o,t){var n=new r;n.retro_id=e._id,n.input=angular.toJson(o),n.$save().then(function(e){console.log(e)}),console.log(n)}}]),myControllers.controller("IndexController",["$scope","retros","Retro",function(e,r,o){e.retros=r,e["delete"]=function(r){var t=e.retros.indexOf(r),n=new o;n.$delete({id:r._id}).then(function(r){e.retros.splice(t,1)})}}]),myControllers.controller("NewController",["$scope",function(e){}]),myControllers.controller("ShowController",["$scope","retro","responses","$builder","$validator",function(e,r,o,t,n){e.retro=r,e.responses=o;var l=angular.fromJson(r.form);t.forms["default"]=l}]),myServices.factory("Response",["$resource",function(e){return e("/responses/:id",{},{all:{method:"get"}})}]),myServices.factory("Retro",["$resource",function(e){return e("/retros/:id")}]);